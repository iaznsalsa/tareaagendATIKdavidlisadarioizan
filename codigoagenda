import csv

import os


ARCHIVO = 'agenda.csv'


def inicializar_archivo():

	if not os.path.exists(ARCHIVO):

    	with open(ARCHIVO, 'w', newline='') as f:

        	writer = csv.writer(f)

        	writer.writerow(['Nombre', 'Teléfono', 'Email'])


def leer_contactos():

	with open(ARCHIVO, 'r') as f:

    	reader = csv.DictReader(f)

    	return list(reader)


def escribir_contacto(nombre, telefono, email):

	with open(ARCHIVO, 'a', newline='') as f:

    	writer = csv.writer(f)

    	writer.writerow([nombre, telefono, email])


def sobreescribir_contactos(contactos):

	with open(ARCHIVO, 'w', newline='') as f:

    	writer = csv.DictWriter(f, fieldnames=['Nombre', 'Teléfono', 'Email'])

    	writer.writeheader()

    	writer.writerows(contactos)


# --- Programa principal ---
def main():
    inicializar_archivo()
    mostrar_menu()

if __name__ == "__main__":
    main()

# --- Menú de usuario ---

from contactos import añadir_contacto, mostrar_contactos, buscar_contacto, eliminar_contacto

def mostrar_menu():
	while True:
    	print("\n AGENDA DE CONTACTOS ")
    	print("1. Añadir contacto")
    	print("2. Mostrar contactos")
    	print("3. Buscar contacto")
    	print("4. Eliminar contacto")
    	print("5. Salir")
    	opcion = input("Elige una opción: ")

    	if opcion == '1':
        	añadir_contacto()
    	elif opcion == '2':
        	mostrar_contactos()
    	elif opcion == '3':
        	buscar_contacto()
    	elif opcion == '4':
        	eliminar_contacto()
    	elif opcion == '5':
        	print("Saliendo...")
        	break
    	else:
        	print(" Opción no válida.")
